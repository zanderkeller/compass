import{u as M,r as n,j as e}from"./index-CQ0jGMfQ.js";import{B as q}from"./BottomNavigation-Bi7z2HkY.js";import{d as y,g as D,G as x}from"./GlassCard-Drm0HRq5.js";import{N as c}from"./NeonButton-Cu2Y-Mkf.js";function X(){const J=M(),[_,C]=n.useState([]),[f,E]=n.useState([]),[O,$]=n.useState(!0),[A,h]=n.useState(!1),[F,w]=n.useState(!1),[g,v]=n.useState(!1),[u,k]=n.useState("entries"),[i,p]=n.useState({title:"",content:"",mood:"",tags:""}),j=[{key:"happy",label:"–†–∞–¥–æ—Å—Ç–Ω–æ–µ",color:"#fbbf24",icon:"ri-emotion-happy-line"},{key:"calm",label:"–°–ø–æ–∫–æ–π–Ω–æ–µ",color:"#06b6d4",icon:"ri-leaf-line"},{key:"excited",label:"–í–æ–æ–¥—É—à–µ–≤–ª–µ–Ω–Ω–æ–µ",color:"#f97316",icon:"ri-flashlight-line"},{key:"thoughtful",label:"–ó–∞–¥—É–º—á–∏–≤–æ–µ",color:"#8b5cf6",icon:"ri-brain-line"},{key:"grateful",label:"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ–µ",color:"#10b981",icon:"ri-hand-heart-line"},{key:"anxious",label:"–¢—Ä–µ–≤–æ–∂–Ω–æ–µ",color:"#ef4444",icon:"ri-alarm-warning-line"},{key:"sad",label:"–ì—Ä—É—Å—Ç–Ω–æ–µ",color:"#6b7280",icon:"ri-emotion-sad-line"},{key:"neutral",label:"–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ",color:"#9ca3af",icon:"ri-emotion-normal-line"}];n.useEffect(()=>{T()},[]);const T=async()=>{try{await y.init();const t=D(),s=await y.getJournalEntriesByTelegramId(t);C(s);const a=localStorage.getItem(`weekly_reports_${t}`);a&&E(JSON.parse(a))}catch(t){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∂—É—Ä–Ω–∞–ª–∞:",t)}finally{$(!1)}},z=async()=>{if(!(!i.title.trim()||!i.content.trim()))try{const t=D(),s=new Date().toISOString(),a={telegram_id:t,title:i.title,content:i.content,mood:i.mood,tags:i.tags,created_at:s},r=await y.createJournalEntry(a),N={...a,id:r};C(o=>[N,...o]),p({title:"",content:"",mood:"",tags:""}),h(!1)}catch(t){console.error("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏:",t)}},B=async()=>{v(!0);try{const t=D(),s=await y.getEmotionEntriesByTelegramId(t,50),a=new Date;a.setDate(a.getDate()-7);const r=s.filter(l=>new Date(l.created_at)>=a);if(r.length===0){alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞. –î–µ–ª–∞–π—Ç–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —á–µ–∫-–∏–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏."),v(!1);return}const N=r.map(l=>({date:l.date,type:l.type,emotion:l.emotion,level:l.level,feelings:l.feelings,goals:l.goals,gratitude:l.gratitude}));console.log("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ DeepSeek API —Å –¥–∞–Ω–Ω—ã–º–∏:",N);const o=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-6dc131bde15a412baea0c1c9035d0607"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`–¢—ã - –æ–ø—ã—Ç–Ω—ã–π –ø—Å–∏—Ö–æ–ª–æ–≥ –∏ –∫–æ—É—á –ø–æ –ª–∏—á–Ω–æ—Å—Ç–Ω–æ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞ –Ω–µ–¥–µ–ª—é –∏ —Å–æ–∑–¥–∞–π –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{
  "analysis": "–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞ –Ω–µ–¥–µ–ª—é",
  "recommendations": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è",
  "emotion_summary": "–ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"
}

–ê–Ω–∞–ª–∏–∑ –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å:
- –û–±—â–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏
- –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Ü–∏–∫–ª—ã
- –°–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏–º—ã–º–∏
- –û—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –í–∫–ª—é—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏–ª–∏ —Ç–µ—Ö–Ω–∏–∫–∏`},{role:"user",content:`–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–æ–∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ –Ω–µ–¥–µ–ª—é: ${JSON.stringify(N)}`}],temperature:.7,max_tokens:2e3})});if(console.log("–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –æ—Ç API:",o.status),!o.ok){const l=await o.text();throw console.error("–û—à–∏–±–∫–∞ API:",l),new Error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ AI —Å–µ—Ä–≤–∏—Å—É: ${o.status} - ${l}`)}const d=await o.json();if(console.log("–ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç API:",d),!d.choices||!d.choices[0]||!d.choices[0].message)throw console.error("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:",d),new Error("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI —Å–µ—Ä–≤–∏—Å–∞");const b=d.choices[0].message.content;console.log("–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ò–ò:",b);let m;try{m=JSON.parse(b),console.log("–ü–∞—Ä—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç –ò–ò:",m)}catch(l){console.error("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –æ—Ç–≤–µ—Ç–∞:",l),console.log("–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç:",b),m={analysis:b.includes("–∞–Ω–∞–ª–∏–∑")?b:"–ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞ –Ω–µ–¥–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π.",recommendations:"–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤–µ–¥–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞ —ç–º–æ—Ü–∏–π –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å.",emotion_summary:"–û–±—â–∏–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å –ø–µ—Ä–∏–æ–¥–∞–º–∏ –ø–æ–¥—ä–µ–º–æ–≤ –∏ —Å–ø–∞–¥–æ–≤."}}const U=new Date(a).toISOString().split("T")[0],G=new Date().toISOString().split("T")[0],I={telegram_id:t,week_start:U,week_end:G,analysis:m.analysis||"–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",recommendations:m.recommendations||"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã",emotion_summary:m.emotion_summary||"–†–µ–∑—é–º–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ",created_at:new Date().toISOString()};console.log("–°–æ–∑–¥–∞–µ–º –æ—Ç—á–µ—Ç:",I);const R=localStorage.getItem(`weekly_reports_${t}`),S=R?JSON.parse(R):[];S.unshift(I),localStorage.setItem(`weekly_reports_${t}`,JSON.stringify(S)),console.log("–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ localStorage"),E(S),w(!1),k("reports")}catch(t){console.error("–ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞:",t);let s="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞.";t instanceof Error&&(t.message.includes("fetch")?s="–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–∏—Å—É –ò–ò. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.":t.message.includes("401")?s="–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ API. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞.":t.message.includes("429")?s="–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.":s=`–û—à–∏–±–∫–∞: ${t.message}`),alert(s)}finally{v(!1)}},P=t=>{const s=new Date(t),a=new Date,r=new Date(a);return r.setDate(r.getDate()-1),s.toDateString()===a.toDateString()?"–°–µ–≥–æ–¥–Ω—è":s.toDateString()===r.toDateString()?"–í—á–µ—Ä–∞":s.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})},W=(t,s)=>{const a=new Date(t),r=new Date(s);return`${a.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})} - ${r.toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})}`},L=t=>j.find(s=>s.key===t)||j[j.length-1];return O?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white/70",children:"–ó–∞–≥—Ä—É–∑–∫–∞ –∂—É—Ä–Ω–∞–ª–∞..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-cyan-400/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),e.jsxs("div",{className:"relative z-10 pb-28",children:[e.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border-b border-white/10 px-4 py-4 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"–ñ—É—Ä–Ω–∞–ª"}),e.jsx("button",{onClick:()=>J("/"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-white"})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>k("entries"),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm transition-all duration-300 ${u==="entries"?"bg-cyan-400 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,style:{boxShadow:u==="entries"?"0 0 15px rgba(6, 182, 212, 0.4)":"none"},children:[e.jsx("i",{className:"ri-book-line"}),e.jsx("span",{children:"–ó–∞–ø–∏—Å–∏"})]}),e.jsxs("button",{onClick:()=>k("reports"),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm transition-all duration-300 ${u==="reports"?"bg-purple-400 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,style:{boxShadow:u==="reports"?"0 0 15px rgba(168, 85, 247, 0.4)":"none"},children:[e.jsx("i",{className:"ri-file-chart-line"}),e.jsx("span",{children:"–û—Ç—á–µ—Ç—ã"}),f.length>0&&e.jsx("span",{className:"bg-white/20 text-xs px-2 py-1 rounded-full",children:f.length})]})]})]}),e.jsx("div",{className:"px-4 py-6",children:u==="entries"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs(c,{className:"w-full py-3",onClick:()=>h(!0),children:[e.jsx("i",{className:"ri-add-line mr-2"}),"–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å"]})}),_.length>0?e.jsx("div",{className:"space-y-4",children:_.map(t=>{const s=L(t.mood||"");return e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-1",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm text-white/60 mb-2",children:[e.jsx("span",{children:P(t.created_at)}),t.mood&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("i",{className:s.icon,style:{color:s.color}}),e.jsx("span",{children:s.label})]})]})]})]})}),e.jsx("p",{className:"text-white/80 text-sm leading-relaxed mb-3",children:t.content}),t.tags&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.split(",").map((a,r)=>e.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/70 text-xs rounded-full",children:["#",a.trim()]},r))})]},t.id)})}):e.jsx(x,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-book-line text-white/40 text-4xl mb-4"}),e.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π"}),e.jsx("p",{className:"text-white/60 text-sm mb-6",children:"–ù–∞—á–Ω–∏—Ç–µ –≤–µ—Å—Ç–∏ –∂—É—Ä–Ω–∞–ª —Å–≤–æ–∏—Ö –º—ã—Å–ª–µ–π –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π"}),e.jsxs(c,{onClick:()=>h(!0),children:[e.jsx("i",{className:"ri-add-line mr-2"}),"–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsx(c,{className:"w-full py-3",onClick:()=>w(!0),disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-magic-line mr-2"}),"–°–æ–∑–¥–∞—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç"]})})}),f.length>0?e.jsx("div",{className:"space-y-4",children:f.map((t,s)=>e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-lg font-semibold",children:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑"}),e.jsx("p",{className:"text-white/60 text-sm",children:W(t.week_start,t.week_end)})]}),e.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-gradient-to-r from-purple-400 to-pink-500",children:e.jsx("i",{className:"ri-file-chart-line text-white text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-cyan-400 font-semibold mb-2",children:"üìä –ê–Ω–∞–ª–∏–∑"}),e.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:t.analysis})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"}),e.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:t.recommendations})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-semibold mb-2",children:"üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã"}),e.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:t.emotion_summary})]})]})]},s))}):e.jsx(x,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-file-chart-line text-white/40 text-4xl mb-4"}),e.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"–ù–µ—Ç –æ—Ç—á–µ—Ç–æ–≤"}),e.jsx("p",{className:"text-white/60 text-sm mb-6",children:"–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π —Å –ø–æ–º–æ—â—å—é –ò–ò"}),e.jsxs(c,{onClick:()=>w(!0),children:[e.jsx("i",{className:"ri-magic-line mr-2"}),"–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç"]})]})})]})})]}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(x,{className:"w-full max-w-md p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å"}),e.jsx("button",{onClick:()=>h(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–ó–∞–≥–æ–ª–æ–≤–æ–∫"}),e.jsx("input",{type:"text",value:i.title,onChange:t=>p(s=>({...s,title:t.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-cyan-400",placeholder:"–û —á–µ–º —ç—Ç–∞ –∑–∞–ø–∏—Å—å?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ"}),e.jsx("textarea",{value:i.content,onChange:t=>p(s=>({...s,content:t.target.value})),rows:6,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-cyan-400 resize-none",placeholder:"–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:j.map(t=>e.jsxs("button",{onClick:()=>p(s=>({...s,mood:t.key})),className:`p-3 rounded-lg transition-all flex items-center space-x-2 text-sm ${i.mood===t.key?"ring-2 ring-white/50 bg-white/10":"hover:bg-white/10"}`,children:[e.jsx("i",{className:t.icon,style:{color:t.color}}),e.jsx("span",{className:"text-white/70",children:t.label})]},t.key))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–¢–µ–≥–∏"}),e.jsx("input",{type:"text",value:i.tags,onChange:t=>p(s=>({...s,tags:t.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-cyan-400",placeholder:"—Ä–∞–±–æ—Ç–∞, —Å–µ–º—å—è, –∑–¥–æ—Ä–æ–≤—å–µ..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(c,{variant:"secondary",className:"flex-1",onClick:()=>h(!1),children:"–û—Ç–º–µ–Ω–∞"}),e.jsx(c,{className:"flex-1",onClick:z,children:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"})]})]})]})}),F&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(x,{className:"w-full max-w-md p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-r from-purple-400 to-pink-500",children:e.jsx("i",{className:"ri-magic-line text-white text-2xl"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç"}),e.jsx("p",{className:"text-white/70 text-sm",children:"–ò–ò –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –∏ –¥–∞—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"w-full py-3",onClick:B,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-magic-line mr-2"}),"–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç"]})}),e.jsxs("button",{onClick:()=>w(!1),className:"w-full py-3 px-4 rounded-xl bg-white/10 hover:bg-white/20 text-white font-medium transition-colors",disabled:g,children:[e.jsx("i",{className:"ri-close-line mr-2"}),"–û—Ç–º–µ–Ω–∞"]})]})]})}),e.jsx(q,{})]})}export{X as default};
//# sourceMappingURL=page-rerZoBTt.js.map
