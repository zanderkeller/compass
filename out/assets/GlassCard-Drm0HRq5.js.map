{"version":3,"file":"GlassCard-Drm0HRq5.js","sources":["../../src/utils/database.ts","../../src/components/base/GlassCard.tsx"],"sourcesContent":["\nexport interface UserProfile {\n  id?: number;\n  telegram_id: number;\n  telegram_username?: string;\n  telegram_first_name?: string;\n  telegram_last_name?: string;\n  name: string;\n  birth_date: string;\n  birth_place: string;\n  about_me: string;\n  problem: string;\n  created_at: string;\n}\n\nexport interface ClientProfile {\n  id?: number;\n  telegram_id: number;\n  selected_widgets: string[]; // JSON массив ID виджетов\n  widget_order: string[]; // JSON массив порядка виджетов\n  is_pro: boolean;\n  energy: number;\n  completed_askezas: number;\n  settings: string; // JSON объект с настройками\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface UserResponses {\n  id?: number;\n  telegram_id: number;\n  response_type: 'checkin' | 'checkout' | 'journal' | 'emotion' | 'askeza' | 'other';\n  response_data: string; // JSON объект с данными ответа\n  date: string;\n  created_at: string;\n}\n\nexport interface EmotionEntry {\n  id?: string | number;\n  telegram_id: number;\n  type: 'morning' | 'evening';\n  emotion: string;\n  level: number;\n  date: string;\n  feelings?: string;\n  goals?: string;\n  gratitude?: string;\n  day_reflection?: string;\n  tomorrow_goals?: string;\n  day_rating?: number;\n  sleep_quality?: number;\n  morning_mood?: string;\n  today_goals?: string;\n  intention?: string;\n  created_at: string;\n}\n\nexport interface JournalEntry {\n  id?: number;\n  telegram_id: number;\n  title: string;\n  content: string;\n  mood?: string;\n  tags?: string;\n  created_at: string;\n}\n\nexport interface AskezaEntry {\n  id?: number;\n  telegram_id: number;\n  title: string;\n  icon: string;\n  color: string;\n  duration: number;\n  current_day: number;\n  is_active: boolean;\n  show_on_home: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\nclass DatabaseManager {\n  private baseUrl = '/api/database'; // API endpoint на вашем сервере\n  private initialized = false;\n\n  async init(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      // Проверяем соединение с сервером и инициализируем базу данных\n      const response = await fetch(`${this.baseUrl}/init`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`Ошибка инициализации базы данных: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n      console.log('База данных инициализирована:', result.message);\n      this.initialized = true;\n    } catch (error) {\n      console.error('Ошибка инициализации базы данных:', error);\n      throw error;\n    }\n  }\n\n  // Методы для работы с пользователями\n  async createUser(user: UserProfile): Promise<number> {\n    console.log('Создание нового пользователя...');\n\n    const response = await fetch(`${this.baseUrl}/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(user)\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка создания пользователя: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n    console.log(`Пользователь создан с ID: ${result.id}`);\n    return result.id;\n  }\n\n  async getUserByTelegramId(telegramId: number): Promise<UserProfile | null> {\n    const response = await fetch(`${this.baseUrl}/users/${telegramId}`);\n    \n    if (response.status === 404) {\n      console.log(`Пользователь с Telegram ID ${telegramId}: не найден`);\n      return null;\n    }\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения пользователя: ${response.statusText}`);\n    }\n\n    const user = await response.json();\n    console.log(`Поиск пользователя с Telegram ID ${telegramId}: найден`);\n    return user;\n  }\n\n  // Методы для работы с профилем клиента\n  async createClientProfile(profile: ClientProfile): Promise<number> {\n    // Преобразуем массивы в JSON строки для отправки\n    const profileData = {\n      ...profile,\n      selected_widgets: Array.isArray(profile.selected_widgets) \n        ? JSON.stringify(profile.selected_widgets) \n        : profile.selected_widgets,\n      widget_order: Array.isArray(profile.widget_order) \n        ? JSON.stringify(profile.widget_order) \n        : profile.widget_order,\n      settings: typeof profile.settings === 'string' ? profile.settings : JSON.stringify(profile.settings || {})\n    };\n\n    console.log('Отправка данных профиля клиента:', profileData);\n\n    const response = await fetch(`${this.baseUrl}/client-profile`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(profileData)\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error('Ошибка создания профиля клиента:', errorText);\n      throw new Error(`Ошибка создания профиля клиента: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n    console.log('Профиль клиента создан с ID:', result.id);\n    return result.id;\n  }\n\n  async getClientProfileByTelegramId(telegramId: number): Promise<ClientProfile | null> {\n    const response = await fetch(`${this.baseUrl}/client-profile/${telegramId}`);\n    \n    if (response.status === 404) {\n      return null;\n    }\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения профиля клиента: ${response.statusText}`);\n    }\n\n    const profile = await response.json();\n    \n    // Парсим JSON строки обратно в массивы\n    if (profile) {\n      try {\n        profile.selected_widgets = typeof profile.selected_widgets === 'string' \n          ? JSON.parse(profile.selected_widgets || '[]') \n          : (Array.isArray(profile.selected_widgets) ? profile.selected_widgets : []);\n        \n        profile.widget_order = typeof profile.widget_order === 'string' \n          ? JSON.parse(profile.widget_order || '[]') \n          : (Array.isArray(profile.widget_order) ? profile.widget_order : []);\n        \n        profile.settings = typeof profile.settings === 'string' \n          ? profile.settings \n          : JSON.stringify(profile.settings || {});\n      } catch (parseError) {\n        console.error('Ошибка парсинга данных профиля:', parseError);\n        profile.selected_widgets = [];\n        profile.widget_order = [];\n        profile.settings = '{}';\n      }\n    }\n\n    return profile;\n  }\n\n  async updateClientProfile(telegramId: number, updates: Partial<ClientProfile>): Promise<void> {\n    // Преобразуем массивы в JSON строки для отправки\n    const updateData = { ...updates };\n    \n    if (updateData.selected_widgets) {\n      updateData.selected_widgets = Array.isArray(updateData.selected_widgets)\n        ? JSON.stringify(updateData.selected_widgets)\n        : updateData.selected_widgets as any;\n    }\n    \n    if (updateData.widget_order) {\n      updateData.widget_order = Array.isArray(updateData.widget_order)\n        ? JSON.stringify(updateData.widget_order)\n        : updateData.widget_order as any;\n    }\n    \n    if (updateData.settings && typeof updateData.settings !== 'string') {\n      updateData.settings = JSON.stringify(updateData.settings);\n    }\n\n    console.log('Отправка обновлений профиля клиента:', updateData);\n\n    const response = await fetch(`${this.baseUrl}/client-profile/${telegramId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(updateData)\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error('Ошибка обновления профиля клиента:', errorText);\n      throw new Error(`Ошибка обновления профиля клиента: ${response.statusText}`);\n    }\n\n    console.log('Профиль клиента успешно обновлен');\n  }\n\n  // Методы для работы с ответами пользователей\n  async createUserResponse(response: UserResponses): Promise<number> {\n    const apiResponse = await fetch(`${this.baseUrl}/user-responses`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(response)\n    });\n\n    if (!apiResponse.ok) {\n      throw new Error(`Ошибка создания ответа пользователя: ${apiResponse.statusText}`);\n    }\n\n    const result = await apiResponse.json();\n    return result.id;\n  }\n\n  async getUserResponsesByTelegramId(telegramId: number, responseType?: string, limit?: number): Promise<UserResponses[]> {\n    let url = `${this.baseUrl}/user-responses/${telegramId}`;\n    const params = new URLSearchParams();\n    \n    if (responseType) params.append('type', responseType);\n    if (limit) params.append('limit', limit.toString());\n    \n    if (params.toString()) {\n      url += `?${params.toString()}`;\n    }\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения ответов пользователя: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n\n  // Методы для работы с эмоциональными записями\n  async createEmotionEntry(entry: EmotionEntry): Promise<number> {\n    const response = await fetch(`${this.baseUrl}/emotions`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(entry)\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка создания эмоциональной записи: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n    return result.id;\n  }\n\n  async getEmotionEntriesByTelegramId(telegramId: number, limit?: number): Promise<EmotionEntry[]> {\n    let url = `${this.baseUrl}/emotions/user/${telegramId}`;\n    if (limit) {\n      url += `?limit=${limit}`;\n    }\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения эмоциональных записей: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n\n  async getEmotionEntryByDate(telegramId: number, date: string, type: 'morning' | 'evening'): Promise<EmotionEntry | null> {\n    const response = await fetch(`${this.baseUrl}/emotions/user/${telegramId}/date/${date}/${type}`);\n    \n    if (response.status === 404) {\n      return null;\n    }\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения эмоциональной записи: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n\n  // Методы для работы с журнальными записями\n  async createJournalEntry(entry: JournalEntry): Promise<number> {\n    const response = await fetch(`${this.baseUrl}/journal`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(entry)\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка создания журнальной записи: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n    return result.id;\n  }\n\n  async getJournalEntriesByTelegramId(telegramId: number, limit?: number): Promise<JournalEntry[]> {\n    let url = `${this.baseUrl}/journal/user/${telegramId}`;\n    if (limit) {\n      url += `?limit=${limit}`;\n    }\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения журнальных записей: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n\n  // Методы для работы с аскезами\n  async createAskezaEntry(entry: AskezaEntry): Promise<number> {\n    const response = await fetch(`${this.baseUrl}/askeza`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(entry)\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка создания аскезы: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n    return result.id;\n  }\n\n  async getAskezaEntriesByTelegramId(telegramId: number): Promise<AskezaEntry[]> {\n    const response = await fetch(`${this.baseUrl}/askeza/user/${telegramId}`);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения аскез: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n\n  async getActiveAskezasForHome(telegramId: number): Promise<AskezaEntry[]> {\n    const response = await fetch(`${this.baseUrl}/askeza/user/${telegramId}/home`);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения аскез для главной: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n\n  async getCurrentAskeza(telegramId: number): Promise<AskezaEntry | null> {\n    const askezas = await this.getAskezaEntriesByTelegramId(telegramId);\n    return askezas.find(a => a.is_active) || null;\n  }\n\n  async updateAskezaEntry(id: number, updates: Partial<AskezaEntry>): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/askeza/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(updates)\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка обновления аскезы: ${response.statusText}`);\n    }\n  }\n\n  async deleteAskezaEntry(id: number): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/askeza/${id}`, {\n      method: 'DELETE'\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка удаления аскезы: ${response.statusText}`);\n    }\n  }\n\n  // Утилитарные методы\n  async clearAllData(): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/clear`, {\n      method: 'DELETE'\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка очистки данных: ${response.statusText}`);\n    }\n  }\n\n  async exportData(): Promise<Blob> {\n    const response = await fetch(`${this.baseUrl}/export`);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка экспорта данных: ${response.statusText}`);\n    }\n\n    return await response.blob();\n  }\n\n  async importData(file: File): Promise<void> {\n    const formData = new FormData();\n    formData.append('database', file);\n\n    const response = await fetch(`${this.baseUrl}/import`, {\n      method: 'POST',\n      body: formData\n    });\n\n    if (!response.ok) {\n      throw new Error(`Ошибка импорта данных: ${response.statusText}`);\n    }\n  }\n\n  // Метод для проверки состояния базы данных\n  async getDatabaseInfo(): Promise<{ userCount: number; emotionCount: number; journalCount: number; askezaCount: number; clientProfileCount: number; userResponsesCount: number }> {\n    const response = await fetch(`${this.baseUrl}/info`);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка получения информации о базе: ${response.statusText}`);\n    }\n\n    return await response.json();\n  }\n}\n\nexport const dbManager = new DatabaseManager();\n\n// Функция для получения Telegram ID пользователя\nexport const getTelegramUserId = (): number => {\n  // В реальном Telegram WebApp\n  if (window.Telegram?.WebApp?.initDataUnsafe?.user?.id) {\n    return window.Telegram.WebApp.initDataUnsafe.user.id;\n  }\n  \n  // Для тестирования локально - используем фиксированный ID\n  return 123456789;\n};\n\n// Функция для получения данных пользователя Telegram\nexport const getTelegramUserData = () => {\n  if (window.Telegram?.WebApp?.initDataUnsafe?.user) {\n    return window.Telegram.WebApp.initDataUnsafe.user;\n  }\n  \n  // Для тестирования локально\n  return {\n    id: 123456789,\n    first_name: 'Тестовый',\n    last_name: 'Пользователь',\n    username: 'testuser'\n  };\n};\n","\ninterface GlassCardProps {\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n  variant?: 'default' | 'elevated' | 'subtle';\n}\n\nexport default function GlassCard({ \n  children, \n  className = '', \n  onClick,\n  variant = 'default'\n}: GlassCardProps) {\n  const variantStyles = {\n    default: {\n      background: 'rgba(255, 255, 255, 0.04)',\n      border: 'rgba(255, 255, 255, 0.1)',\n      blur: 'blur(20px) saturate(180%)',\n      shadow: '0 8px 32px 0 rgba(0, 0, 0, 0.2), 0 0 20px rgba(6, 182, 212, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.15)',\n    },\n    elevated: {\n      background: 'rgba(255, 255, 255, 0.06)',\n      border: 'rgba(255, 255, 255, 0.12)',\n      blur: 'blur(25px) saturate(200%)',\n      shadow: '0 12px 40px 0 rgba(0, 0, 0, 0.3), 0 0 30px rgba(6, 182, 212, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n    },\n    subtle: {\n      background: 'rgba(255, 255, 255, 0.02)',\n      border: 'rgba(255, 255, 255, 0.08)',\n      blur: 'blur(15px) saturate(160%)',\n      shadow: '0 4px 16px 0 rgba(0, 0, 0, 0.15), 0 0 10px rgba(6, 182, 212, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.1)',\n    }\n  };\n\n  const style = variantStyles[variant];\n\n  return (\n    <div \n      className={`relative backdrop-blur-xl rounded-3xl border transition-all duration-300 overflow-hidden group ${className}`}\n      onClick={onClick}\n      style={{\n        background: style.background,\n        border: `1px solid ${style.border}`,\n        boxShadow: style.shadow,\n        backdropFilter: style.blur,\n        WebkitBackdropFilter: style.blur,\n      }}\n    >\n      {/* Стеклянный эффект преломления */}\n      <div \n        className=\"absolute inset-0 rounded-3xl pointer-events-none\"\n        style={{\n          background: `\n            linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, transparent 50%, rgba(255, 255, 255, 0.04) 100%),\n            radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),\n            radial-gradient(circle at 70% 80%, rgba(6, 182, 212, 0.08) 0%, transparent 50%)\n          `,\n          backdropFilter: 'blur(20px) contrast(120%) brightness(105%)',\n          WebkitBackdropFilter: 'blur(20px) contrast(120%) brightness(105%)',\n        }}\n      />\n      \n      {/* Блик как в iOS */}\n      <div \n        className=\"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/40 to-transparent pointer-events-none\"\n      />\n      \n      {/* Контент */}\n      <div className=\"relative z-10\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\n"],"names":["DatabaseManager","__publicField","response","result","error","user","telegramId","profile","profileData","errorText","parseError","updates","updateData","apiResponse","responseType","limit","url","params","entry","date","type","a","id","file","formData","dbManager","getTelegramUserId","_d","_c","_b","_a","getTelegramUserData","GlassCard","children","className","onClick","variant","style","jsxs","jsx"],"mappings":"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"}