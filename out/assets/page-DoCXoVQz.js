import{r as o,j as e}from"./index-CQ0jGMfQ.js";import{B as oe}from"./BottomNavigation-Bi7z2HkY.js";import{G as y,d as u,g as E}from"./GlassCard-Drm0HRq5.js";import{N as g}from"./NeonButton-Cu2Y-Mkf.js";import{A as ce}from"./AskezaCompletionMenu-CUoOUlvz.js";function fe(){var M,R,U;const[m,h]=o.useState([]),[F,H]=o.useState(!0),[G,N]=o.useState(!1),[p,T]=o.useState(null),[f,_]=o.useState(null),[X,A]=o.useState(!1),[j,v]=o.useState(null),[x,O]=o.useState(!0),[k,$]=o.useState("12:00"),[S,D]=o.useState(!1),[C,B]=o.useState("ri-flashlight-line"),[b,J]=o.useState("#06b6d4"),[s,d]=o.useState({title:"",icon:"ri-flashlight-line",color:"from-yellow-400 to-orange-500",duration:30,durationType:"custom",notifyEnabled:!0,notifyTime:"12:00"}),Q=["ri-flashlight-line","ri-leaf-line","ri-heart-line","ri-cake-line","ri-smartphone-line","ri-drop-line","ri-book-line","ri-run-line","ri-music-line","ri-cup-line","ri-cigarette-line","ri-tv-line","ri-gamepad-line","ri-shopping-cart-line","ri-moon-line","ri-sun-line","ri-meditation-line","ri-yoga-line","ri-apple-line","ri-water-line","ri-fire-line","ri-star-line","ri-flower-line","ri-seedling-line","ri-mountain-line","ri-compass-line","ri-shield-line","ri-gem-line","ri-brain-line","ri-eye-line","ri-hand-heart-line","ri-mental-health-line","ri-pulse-line","ri-heart-pulse-line","ri-lungs-line","ri-capsule-line","ri-dumbbell-line","ri-bike-line","ri-walk-line","ri-timer-line","ri-alarm-line","ri-calendar-line","ri-focus-line","ri-lightbulb-line","ri-magic-line","ri-rainbow-line","ri-sparkling-line","ri-contrast-line","ri-palette-line","ri-brush-line","ri-pencil-line","ri-quill-pen-line","ri-feather-line","ri-butterfly-line","ri-plant-line","ri-cactus-line","ri-tree-line","ri-maple-leaf-line","ri-cherry-blossom-line","ri-rose-line"],P=[{name:"–ì–æ–ª—É–±–æ–π",value:"#06b6d4"},{name:"–§–∏–æ–ª–µ—Ç–æ–≤—ã–π",value:"#8b5cf6"},{name:"–†–æ–∑–æ–≤—ã–π",value:"#ec4899"},{name:"–ó–µ–ª–µ–Ω—ã–π",value:"#10b981"},{name:"–ñ–µ–ª—Ç—ã–π",value:"#f59e0b"},{name:"–ö—Ä–∞—Å–Ω—ã–π",value:"#ef4444"},{name:"–û—Ä–∞–Ω–∂–µ–≤—ã–π",value:"#f97316"},{name:"–ò–Ω–¥–∏–≥–æ",value:"#6366f1"},{name:"–ò–∑—É–º—Ä—É–¥–Ω—ã–π",value:"#059669"},{name:"–õ–∞–π–º–æ–≤—ã–π",value:"#65a30d"},{name:"–Ø–Ω—Ç–∞—Ä–Ω—ã–π",value:"#d97706"},{name:"–ë–µ–ª—ã–π",value:"#ffffff"}],W=[{value:"from-yellow-400 to-orange-500",name:"–û—Ä–∞–Ω–∂–µ–≤—ã–π"},{value:"from-green-400 to-blue-500",name:"–ó–µ–ª–µ–Ω—ã–π"},{value:"from-purple-400 to-pink-500",name:"–§–∏–æ–ª–µ—Ç–æ–≤—ã–π"},{value:"from-cyan-400 to-blue-500",name:"–ì–æ–ª—É–±–æ–π"},{value:"from-red-400 to-pink-500",name:"–ö—Ä–∞—Å–Ω—ã–π"},{value:"from-indigo-400 to-purple-500",name:"–ò–Ω–¥–∏–≥–æ"},{value:"from-emerald-400 to-teal-500",name:"–ò–∑—É–º—Ä—É–¥–Ω—ã–π"},{value:"from-rose-400 to-pink-500",name:"–†–æ–∑–æ–≤—ã–π"},{value:"from-amber-400 to-yellow-500",name:"–Ø–Ω—Ç–∞—Ä–Ω—ã–π"},{value:"from-violet-400 to-purple-500",name:"–§–∏–æ–ª–µ—Ç–æ–≤—ã–π"},{value:"from-lime-400 to-green-500",name:"–õ–∞–π–º–æ–≤—ã–π"},{value:"from-sky-400 to-blue-500",name:"–ù–µ–±–µ—Å–Ω—ã–π"}],I=()=>u,w=async(t,i=[])=>{const n=I();try{if(typeof n.exec=="function")return await n.exec(t,i);if(typeof n.run=="function")return await n.run(t,i);if(typeof n.execute=="function")return await n.execute(t,i);if(typeof n.query=="function")return await n.query(t,i);if(n.db&&typeof n.db.exec=="function")return await n.db.exec(t,i);if(n.db&&typeof n.db.run=="function")return await n.db.run(t,i)}catch(a){console.warn("SQLite exec failed:",a)}return null},Y=async(t,i=[])=>{const n=I();try{if(typeof n.all=="function")return await n.all(t,i);if(typeof n.query=="function")return await n.query(t,i);if(typeof n.select=="function")return await n.select(t,i);if(typeof n.exec=="function"){const a=await n.exec(t,i);if(Array.isArray(a))return a;if(a!=null&&a.rows)return a.rows}if(n.db&&typeof n.db.all=="function")return await n.db.all(t,i);if(n.db&&typeof n.db.query=="function")return await n.db.query(t,i)}catch(a){console.warn("SQLite select failed:",a)}return[]},K=async()=>{await w(`
      CREATE TABLE IF NOT EXISTS askeza_notification_settings (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        telegram_id INTEGER NOT NULL,
        askeza_id INTEGER NOT NULL,
        enabled INTEGER NOT NULL DEFAULT 1,
        time TEXT NOT NULL DEFAULT '12:00',
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        updated_at TEXT NOT NULL DEFAULT (datetime('now')),
        UNIQUE(telegram_id, askeza_id)
      )
    `),await w(`
      CREATE INDEX IF NOT EXISTS idx_askeza_notif_tg
      ON askeza_notification_settings (telegram_id)
    `),await w(`
      CREATE INDEX IF NOT EXISTS idx_askeza_notif_askeza
      ON askeza_notification_settings (askeza_id)
    `)},V=async t=>{const i=await Y(`SELECT askeza_id, enabled, time
       FROM askeza_notification_settings
       WHERE telegram_id = ?`,[t]);if(i.length>0){const a=new Map;return i.forEach(l=>a.set(Number(l.askeza_id),{enabled:Number(l.enabled)===1,time:l.time||"12:00"})),a}const n=new Map;try{const a=localStorage.getItem(`askeza_notif_map_${t}`);if(a){const l=JSON.parse(a);Object.entries(l).forEach(([r,c])=>n.set(Number(r),{enabled:!!c.enabled,time:c.time||"12:00"}))}}catch{}return n},L=async(t,i,n,a)=>{if(await w(`
      INSERT INTO askeza_notification_settings (telegram_id, askeza_id, enabled, time, created_at, updated_at)
      VALUES (?, ?, ?, ?, datetime('now'), datetime('now'))
      ON CONFLICT(telegram_id, askeza_id)
      DO UPDATE SET
        enabled = excluded.enabled,
        time = excluded.time,
        updated_at = datetime('now')
      `,[t,i,n?1:0,a])===null)try{const r=`askeza_notif_map_${t}`,c=localStorage.getItem(r),z=c?JSON.parse(c):{};z[String(i)]={enabled:n,time:a},localStorage.setItem(r,JSON.stringify(z))}catch{}},Z=async(t,i)=>{if(await w("DELETE FROM askeza_notification_settings WHERE telegram_id = ? AND askeza_id = ?",[t,i])===null)try{const a=`askeza_notif_map_${t}`,l=localStorage.getItem(a);if(!l)return;const r=JSON.parse(l);delete r[String(i)],localStorage.setItem(a,JSON.stringify(r))}catch{}},q=t=>{const i=new Date().toDateString();return localStorage.getItem(`askeza_${t.id}_last_completed`)===i};o.useEffect(()=>{(async()=>{try{await u.init();const i=E();await K();const n=await V(i),l=(await u.getAskezaEntriesByTelegramId(i)).map(r=>{const c=n.get(r.id);return{id:r.id,title:r.title,icon:r.icon,color:r.color,duration:r.duration,currentDay:r.current_day,isActive:r.is_active,showOnHome:r.show_on_home,completedToday:!1,notifyEnabled:c?c.enabled:!0,notifyTime:c?c.time:"12:00"}});l.forEach(r=>{r.completedToday=q(r)}),h(l)}catch(i){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—Å–∫–µ–∑:",i)}finally{H(!1)}})()},[]);const ee=async t=>{try{const i=m.find(a=>a.id===t);if(!i)return;const n=!i.showOnHome;await u.updateAskezaEntry(t,{show_on_home:n}),h(a=>a.map(l=>l.id===t?{...l,showOnHome:n}:l))}catch(i){console.error("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—Å–∫–µ–∑—ã:",i)}},te=async t=>{try{const i=m.find(a=>a.id===t);if(!i)return;const n=!i.isActive;await u.updateAskezaEntry(t,{is_active:n}),h(a=>a.map(l=>l.id===t?{...l,isActive:n}:l))}catch(i){console.error("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—Å–∫–µ–∑—ã:",i)}},ie=async()=>{if(s.title.trim())try{let t=s.duration;s.durationType==="week"&&(t=7),s.durationType==="month"&&(t=30);const i=E(),n=new Date().toISOString(),a={telegram_id:i,title:s.title,icon:s.icon,color:s.color,duration:t,current_day:0,is_active:!0,show_on_home:!0,created_at:n,updated_at:n},l=await u.createAskezaEntry(a);await L(i,l,s.notifyEnabled,s.notifyTime);const r={id:l,title:s.title,icon:s.icon,color:s.color,duration:t,currentDay:1,isActive:!0,showOnHome:!0,completedToday:!1,notifyEnabled:s.notifyEnabled,notifyTime:s.notifyTime};h(c=>[...c,r]),d({title:"",icon:"ri-flashlight-line",color:"from-yellow-400 to-orange-500",duration:30,durationType:"custom",notifyEnabled:!0,notifyTime:"12:00"}),N(!1)}catch(t){console.error("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞—Å–∫–µ–∑—ã:",t)}},ne=async()=>{if(f)try{const t=E();await u.deleteAskezaEntry(f),await Z(t,f),h(i=>i.filter(n=>n.id!==f)),localStorage.removeItem(`askeza_${f}_last_completed`),_(null)}catch(t){console.error("–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∞—Å–∫–µ–∑—ã:",t)}},ae=async t=>{try{const i=m.find(l=>l.id===t);if(!i||i.currentDay>=i.duration||i.completedToday)return;const n=i.currentDay+1;await u.updateAskezaEntry(t,{current_day:n});const a=new Date().toDateString();localStorage.setItem(`askeza_${t}_last_completed`,a),h(l=>l.map(r=>r.id===t?{...r,currentDay:n,completedToday:!0}:r)),T(null),A(!0),setTimeout(()=>A(!1),3e3)}catch(i){console.error("–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∫–µ–∑—ã:",i)}},se=t=>t.isActive?t.completedToday?"completed":t.currentDay>=t.duration?"finished":"active":"inactive",le=t=>{const i=m.find(n=>n.id===t);v(t),O((i==null?void 0:i.notifyEnabled)??!0),$((i==null?void 0:i.notifyTime)??"12:00")},re=async()=>{if(j){D(!0);try{const t=E();await L(t,j,x,k),h(i=>i.map(n=>n.id===j?{...n,notifyEnabled:x,notifyTime:k}:n)),v(null)}catch(t){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:",t)}finally{D(!1)}}};return F?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white/70",children:"–ó–∞–≥—Ä—É–∑–∫–∞ –∞—Å–∫–µ–∑..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-cyan-400/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),X&&e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",children:[Array.from({length:30},(t,i)=>{const n=["bg-yellow-400","bg-orange-500","bg-pink-500","bg-purple-500","bg-red-500","bg-green-500"];return e.jsx("div",{className:"absolute animate-ping",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()}s`},children:e.jsx("div",{className:`w-3 h-3 rounded-full ${n[i%n.length]}`})},i)}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center animate-bounce",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üéâ"}),e.jsx("div",{className:"text-white text-2xl font-bold bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent",children:"–û—Ç–ª–∏—á–Ω–æ!"})]})})]}),e.jsxs("div",{className:"relative z-10 pb-28",children:[e.jsx("div",{className:"pt-6 pb-4 px-4",children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500",style:{boxShadow:"0 0 30px rgba(251, 191, 36, 0.5)"},children:e.jsx("i",{className:"ri-flashlight-line text-white text-2xl"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent mb-2",children:"–ê—Å–∫–µ–∑—ã"}),e.jsx("p",{className:"text-white/60 text-sm",children:"–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏"})]})}),e.jsx("div",{className:"px-4 mb-6",children:e.jsxs(g,{className:"w-full py-3",onClick:()=>N(!0),children:[e.jsx("i",{className:"ri-add-line mr-2"}),"–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∞—Å–∫–µ–∑—É"]})}),e.jsx("div",{className:"px-4 space-y-4",children:m.length===0?e.jsxs(y,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-gradient-to-r from-gray-400 to-gray-600 opacity-50",children:e.jsx("i",{className:"ri-flashlight-line text-white text-2xl"})}),e.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"–ù–µ—Ç –∞—Å–∫–µ–∑"}),e.jsx("p",{className:"text-white/60 text-sm",children:"–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∞—Å–∫–µ–∑—É"})]}):m.map(t=>{const i=t.currentDay/t.duration*100,n=se(t);return e.jsxs(y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-full bg-gradient-to-r ${t.color}`,style:{boxShadow:"0 0 20px rgba(251, 191, 36, 0.3)"},children:e.jsx("i",{className:`${t.icon} text-white text-xl`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white text-base font-semibold",children:t.title}),e.jsxs("p",{className:"text-white/70 text-sm",children:["–î–µ–Ω—å ",t.currentDay," –∏–∑ ",t.duration]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-white/10 text-white/70",children:[e.jsx("i",{className:t.notifyEnabled??!0?"ri-notification-3-line":"ri-notification-off-line"}),e.jsx("span",{children:t.notifyEnabled??!0?t.notifyTime??"12:00":"–≤—ã–∫–ª"})]}),t.completedToday&&e.jsx("span",{className:"text-green-400 text-xs",children:"‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>le(t.id),className:"text-white/70 hover:text-white transition-colors p-1",title:"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",children:e.jsx("i",{className:"ri-notification-3-line text-lg"})}),e.jsx("button",{onClick:()=>_(t.id),className:"text-red-400 hover:text-red-300 transition-colors p-1",title:"–£–¥–∞–ª–∏—Ç—å",children:e.jsx("i",{className:"ri-delete-bin-line text-lg"})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${t.color} rounded-full transition-all duration-500`,style:{width:`${i}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"0%"}),e.jsxs("span",{className:"text-cyan-400 text-xs font-semibold",children:[Math.round(i),"%"]}),e.jsx("span",{className:"text-white/60 text-xs",children:"100%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isActive,onChange:()=>te(t.id),className:"sr-only"}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${t.isActive?"bg-green-500 border-green-500":"border-white/30"}`,children:t.isActive&&e.jsx("i",{className:"ri-check-line text-white text-sm"})}),e.jsx("span",{className:"text-white/70 text-sm",children:"–ê–∫—Ç–∏–≤–Ω–∞"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.showOnHome,onChange:()=>ee(t.id),className:"sr-only"}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${t.showOnHome?"bg-cyan-500 border-cyan-500":"border-white/30"}`,children:t.showOnHome&&e.jsx("i",{className:"ri-check-line text-white text-sm"})}),e.jsx("span",{className:"text-white/70 text-sm",children:"–ù–∞ –≥–ª–∞–≤–Ω–æ–π"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:()=>{n==="active"&&T(t.id)},disabled:n!=="active",className:`relative w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 group ${n==="inactive"?"bg-gray-500/30 cursor-not-allowed":n==="completed"?"bg-green-500/50 cursor-not-allowed":n==="finished"?"bg-yellow-500/50 cursor-not-allowed":`bg-gradient-to-r ${t.color} hover:scale-110 cursor-pointer`}`,style:n==="active"?{boxShadow:"0 0 20px rgba(251, 191, 36, 0.4)"}:void 0,children:[e.jsx("i",{className:`text-white text-xl transition-transform duration-300 ${n==="inactive"?"ri-lock-line":n==="completed"?"ri-check-line":n==="finished"?"ri-trophy-line":"ri-add-line group-hover:rotate-90"}`}),n==="active"&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]},t.id)})})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(y,{className:"w-full max-w-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("button",{onClick:()=>v(null),className:"text-white/60 hover:text-white transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-notification-3-line text-cyan-300"}),e.jsx("span",{className:"text-white/80 text-sm",children:"–í–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:()=>O(t=>!t),className:"sr-only"}),e.jsx("div",{className:`w-12 h-7 rounded-full transition-all ${x?"bg-cyan-500/80":"bg-white/15"}`}),e.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-all ${x?"left-6":"left-1"}`,style:x?{boxShadow:"0 0 18px rgba(34, 211, 238, 0.5)"}:void 0})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–í—Ä–µ–º—è"}),e.jsx("input",{type:"time",value:k,disabled:!x,onChange:t=>$(t.target.value),className:`w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-cyan-400 ${x?"":"opacity-50 cursor-not-allowed"}`})]})]}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx(g,{variant:"secondary",className:"flex-1",onClick:()=>v(null),disabled:S,children:"–û—Ç–º–µ–Ω–∞"}),e.jsx(g,{className:"flex-1",onClick:re,disabled:S,children:S?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"})]}),e.jsx("p",{className:"text-white/50 text-xs",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–æ—Ç–æ–º –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ –∞—Å–∫–µ–∑–∞–º."})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(y,{className:"w-full max-w-sm p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-red-500/20",children:e.jsx("i",{className:"ri-delete-bin-line text-red-400 text-2xl"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"–£–¥–∞–ª–∏—Ç—å –∞—Å–∫–µ–∑—É?"}),e.jsx("p",{className:"text-white/70 text-sm mb-1",children:(M=m.find(t=>t.id===f))==null?void 0:M.title}),e.jsx("p",{className:"text-white/50 text-xs",children:"–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:ne,className:"w-full py-3 px-4 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium transition-colors",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"–£–¥–∞–ª–∏—Ç—å"]}),e.jsxs("button",{onClick:()=>_(null),className:"w-full py-3 px-4 rounded-xl bg-white/10 hover:bg-white/20 text-white font-medium transition-colors",children:[e.jsx("i",{className:"ri-close-line mr-2"}),"–û—Ç–º–µ–Ω–∞"]})]})]})}),p&&e.jsx(ce,{isOpen:p!==null,onClose:()=>T(null),onComplete:()=>ae(p),askezaTitle:((R=m.find(t=>t.id===p))==null?void 0:R.title)||"",askezaColor:((U=m.find(t=>t.id===p))==null?void 0:U.color)||"from-yellow-400 to-orange-500"}),G&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(y,{className:"w-full max-w-md p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"–ù–æ–≤–∞—è –∞—Å–∫–µ–∑–∞"}),e.jsx("button",{onClick:()=>N(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–ù–∞–∑–≤–∞–Ω–∏–µ"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>d(i=>({...i,title:t.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-cyan-400",placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: 30 –¥–Ω–µ–π –±–µ–∑ —Å–ª–∞–¥–∫–æ–≥–æ"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-notification-3-line text-cyan-300"}),e.jsx("span",{className:"text-white/80 text-sm",children:"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.notifyEnabled,onChange:()=>d(t=>({...t,notifyEnabled:!t.notifyEnabled})),className:"sr-only"}),e.jsx("div",{className:`w-12 h-7 rounded-full transition-all ${s.notifyEnabled?"bg-cyan-500/80":"bg-white/15"}`}),e.jsx("div",{className:"absolute translate-x-0 w-5 h-5 rounded-full bg-white transition-all",style:{marginLeft:s.notifyEnabled?24:4,marginTop:-2,boxShadow:s.notifyEnabled?"0 0 18px rgba(34, 211, 238, 0.5)":void 0}})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–í—Ä–µ–º—è"}),e.jsx("input",{type:"time",value:s.notifyTime,disabled:!s.notifyEnabled,onChange:t=>d(i=>({...i,notifyTime:t.target.value})),className:`w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-cyan-400 ${s.notifyEnabled?"":"opacity-50 cursor-not-allowed"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsx("button",{onClick:()=>d(t=>({...t,durationType:"week",duration:7})),className:`py-2 px-3 rounded-lg text-sm transition-all ${s.durationType==="week"?"bg-cyan-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"–ù–µ–¥–µ–ª—è"}),e.jsx("button",{onClick:()=>d(t=>({...t,durationType:"month",duration:30})),className:`py-2 px-3 rounded-lg text-sm transition-all ${s.durationType==="month"?"bg-cyan-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"–ú–µ—Å—è—Ü"}),e.jsx("button",{onClick:()=>d(t=>({...t,durationType:"custom"})),className:`py-2 px-3 rounded-lg text-sm transition-all ${s.durationType==="custom"?"bg-cyan-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"–°–≤–æ–µ"})]}),s.durationType==="custom"&&e.jsx("input",{type:"number",min:"1",max:"365",value:s.duration,onChange:t=>d(i=>({...i,duration:parseInt(t.target.value)||1})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-cyan-400",placeholder:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–ò–∫–æ–Ω–∫–∞"}),e.jsx("div",{className:"grid grid-cols-7 gap-2 max-h-48 overflow-y-auto",children:Q.map(t=>e.jsx("button",{onClick:()=>{B(t),d(i=>({...i,icon:t}))},className:`p-3 rounded-lg transition-all border-2 ${C===t?"border-white/50 bg-white/10":"border-transparent bg-white/5 hover:bg-white/10"}`,style:C===t?{boxShadow:`0 0 15px ${b}`,filter:`drop-shadow(0 0 8px ${b})`}:void 0,children:e.jsx("i",{className:`${t} text-xl`,style:C===t?{color:b,textShadow:`0 0 10px ${b}`}:{color:"rgba(255, 255, 255, 0.7)"}})},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–¶–≤–µ—Ç —Å–≤–µ—á–µ–Ω–∏—è"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:P.map(t=>e.jsx("button",{onClick:()=>J(t.value),className:`w-8 h-8 rounded-full border-2 transition-all ${b===t.value?"border-white/50 scale-110":"border-white/20 hover:border-white/40"}`,style:{backgroundColor:t.value,boxShadow:b===t.value?`0 0 15px ${t.value}`:void 0},title:t.name},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"–¶–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.map(t=>e.jsxs("button",{onClick:()=>d(i=>({...i,color:t.value})),className:`p-3 rounded-lg transition-all flex items-center space-x-2 ${s.color===t.value?"ring-2 ring-white/50":"hover:bg-white/10"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full bg-gradient-to-r ${t.value}`}),e.jsx("span",{className:"text-white/70 text-sm",children:t.name})]},t.value))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(g,{variant:"secondary",className:"flex-1",onClick:()=>N(!1),children:"–û—Ç–º–µ–Ω–∞"}),e.jsx(g,{className:"flex-1",onClick:ie,children:"–î–æ–±–∞–≤–∏—Ç—å"})]})]})]})}),e.jsx(oe,{})]})}export{fe as default};
//# sourceMappingURL=page-DoCXoVQz.js.map
